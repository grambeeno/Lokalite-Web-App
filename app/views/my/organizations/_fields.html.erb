<%= form.inputs do %>
  <%= form.input :name %>
  <%= form.input :description %>
  <%= form.input :email %>
  <%= form.input :url, :label => 'Website'%>
  <%= form.input :phone %>
  <%#= form.input :category %>
  <%= form.input :image_file, :as => :file, :label => 'Image (300px square)' %>
  <%= form.semantic_fields_for :locations do |location| %>
    <% 
      # why doesn't this work when done in the controller?
      # location.object.set_address_components_for_editing unless location.object.new_record?
    %>
    <%= location.input :address_line_one %>
    <%= location.input :address_line_two %>
    <%= location.input :address_city, :label => 'City' %>
    <%= location.input :address_state, :label => 'State', :as => :select, :collection => US_STATES %>
    <%= location.input :address_zip, :label => 'Zip Code' %>
  <% end %>
<% end %>
<%= form.buttons %>

